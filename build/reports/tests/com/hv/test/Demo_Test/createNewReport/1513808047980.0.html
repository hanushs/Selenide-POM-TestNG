<html class="bootstrap" lang="en"><head>
  <meta charset="utf-8">
  <title>Home Page</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="locale" content="en_US">

  <!-- Le styles -->
  <link href="css/home.css" rel="stylesheet">

  <!-- We need web context for requirejs and css -->
  <script type="text/javascript" src="/pentaho/js/themeResources.js"></script><script type="text/javascript" src="webcontext.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/api/repos/dashboards/script/dashboards-require-js-cfg.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/content/client-config-folder-enabler/client-config-enabler-require-js-cfg.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/content/reporting/reportviewer/reporting-require-js-cfg.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/content/analyzer/scripts/analyzer-require-js-cfg.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/content/pentaho-interactive-reporting/resources/web/pir-require-js-cfg.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/content/pentaho-cdf-dd/js/cde-core-require-js-cfg.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/content/pentaho-cdf-dd/js/cde-pentaho-require-js-cfg.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/content/pentaho-cdf/js/cdf-require-js-cfg.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/js/require-js-cfg.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/content/pentaho-geo/resources/web/geo-require-js-cfg.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/content/common-ui/resources/web/common-ui-require-js-cfg.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/content/admin-plugin/resources/admin-plugin-require-js-cfg.js?context=mantle&amp;cssOnly=true"></script><script type="text/javascript" src="/pentaho/content/common-ui/resources/web/require.js"></script><script type="text/javascript" src="/pentaho/content/common-ui/resources/web/require-cfg.js"></script><script type="text/javascript" src="/pentaho/osgi/requirejs-manager/js/require-init.js?requirejs=false"></script><script language="javascript" type="text/javascript" src="/pentaho/js/themes.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/content/common-ui/resources/themes/jquery.js?context=mantle&amp;cssOnly=true"></script><link rel="stylesheet" type="text/css" href="/pentaho/content/data-access/resources/gwt/datasourceEditorDialog.css?context=mantle&amp;cssOnly=true"><link rel="stylesheet" type="text/css" href="/pentaho/content/data-access/resources/gwt/datasourceAdminDialog.css?context=mantle&amp;cssOnly=true"><link rel="stylesheet" type="text/css" href="/pentaho/content/common-ui/resources/web/angular-directives/angular-directives.css?context=mantle&amp;cssOnly=true"><script language="javascript" type="text/javascript" src="/pentaho/content/common-ui/resources/web/dojo/djConfig.js?context=mantle&amp;cssOnly=true"></script><link rel="stylesheet" type="text/css" href="/pentaho/content/common-ui/resources/themes/ruby/globalRuby.css"><link rel="stylesheet" type="text/css" href="/pentaho/content/common-ui/resources/themes/ruby/bootstrap/css/bootstrap-namespaced.css"><link rel="stylesheet" type="text/css" href="/pentaho/mantle/themes/ruby/mantleRuby.css"><script language="javascript" type="text/javascript" src="/pentaho/content/common-ui/resources/web/cache/cache-service.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/content/common-ui/resources/themes/jquery.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/content/common-ui/resources/themes/themeUtils.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/content/common-ui/resources/web/util/URLEncoder.js?context=mantle&amp;cssOnly=true"></script><script language="javascript" type="text/javascript" src="/pentaho/content/common-ui/resources/web/util/SessionExpiryCheckStartingPoint.js?context=mantle&amp;cssOnly=true"></script>

  <script language="JavaScript" type="text/javascript" src="http://admin.brightcove.com/js/BrightcoveExperiences.js"></script>


  <!-- Avoid 'console' errors in browsers that lack a console. -->
  <script type="text/javascript">
    if (!(window.console && console.log)) {
      (function() {
        var noop = function() {};
        var methods = ['assert', 'debug', 'error', 'info', 'log', 'trace', 'warn'];
        var length = methods.length;
        var console = window.console = {};
        while (length--) {
          console[methods[length]] = noop;
        }
      }());
    }
  </script>

  <!-- Require Home -->
  <script type="text/javascript">
    var Home = null;
    pen.require(["home/home", 
      "common-ui/util/ContextProvider"], function(pentahoHome, ContextProvider) {
      Home = pentahoHome;      

      // Define properties for loading context
      var contextConfig = [{
        path: "properties/config",
        post: function(context, loadedMap) {
          context.config = loadedMap;
        }
      }, {
        path: "properties/messages",
        post: function(context, loadedMap) {
          context.i18n = loadedMap;
        }
      }];

      // Define permissions
      ContextProvider.addProperty("canReadContent", true);
      ContextProvider.addProperty("canCreateContent", true);
      ContextProvider.addProperty("hasAnalyzerPlugin", true);
      ContextProvider.addProperty("hasIRPlugin", true);
      ContextProvider.addProperty("hasDashBoardsPlugin", true);
      ContextProvider.addProperty("hasDataAccess", false); // default

      // BISERVER-8631 - Manage datasources only available to roles/users with appropriate permissions
      var serviceUrl = Home.getUrlBase() + "plugin/data-access/api/permissions/hasDataAccess";
      Home.getContent(serviceUrl, function(result) {
        ContextProvider.addProperty("hasDataAccess", result);
        ContextProvider.get(Home.init, contextConfig); // initialize
      }, function(error) {
        console.log(error);
        ContextProvider.get(Home.init, contextConfig); // log error and initialize anyway
      });

    });
  </script>

<script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="dojo/_base/lang" src="/pentaho/content/common-ui/resources/web/dojo/dojo/_base/lang.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="dojo/_base/array" src="/pentaho/content/common-ui/resources/web/dojo/dojo/_base/array.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="dojo/io-query" src="/pentaho/content/common-ui/resources/web/dojo/dojo/io-query.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="home/home" src="/pentaho/mantle/home/js/home.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common-ui/util/ContextProvider" src="/pentaho/content/common-ui/resources/web/util/ContextProvider.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="dojo/_base/kernel" src="/pentaho/content/common-ui/resources/web/dojo/pentaho/common/overrides/dojo/_base/kernel.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="dojo/has" src="/pentaho/content/common-ui/resources/web/dojo/dojo/has.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="dojo/sniff" src="/pentaho/content/common-ui/resources/web/dojo/dojo/sniff.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="dojo/_base/config" src="/pentaho/content/common-ui/resources/web/dojo/pentaho/common/overrides/dojo/_base/config.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common-ui/jquery-pentaho-i18n" src="/pentaho/content/common-ui/resources/web/jquery/jquery.i18n.properties.supported.languages.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common-ui/util/HandlebarsCompiler" src="/pentaho/content/common-ui/resources/web/util/HandlebarsCompiler.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common-ui/jquery" src="/pentaho/content/common-ui/resources/web/jquery/jquery.conflict.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="home/gettingStarted" src="/pentaho/mantle/home/js/gettingStarted.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="home/createNew" src="/pentaho/mantle/home/js/createNew.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common-ui/jquery-clean" src="/pentaho/content/common-ui/resources/web/jquery/jquery.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common-ui/bootstrap" src="/pentaho/content/common-ui/resources/web/bootstrap/bootstrap.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common-ui/jquery-i18n" src="/pentaho/content/common-ui/resources/web/jquery/jquery.i18n.properties-min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common-ui/util/BootstrappedTabLoader" src="/pentaho/content/common-ui/resources/web/util/BootstrappedTabLoader.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common-ui/handlebars" src="/pentaho/content/common-ui/resources/web/handlebars/handlebars-v4.0.5.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common-ui/util/PentahoSpinner" src="/pentaho/content/common-ui/resources/web/util/PentahoSpinner.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common-ui/util/spin.min" src="/pentaho/content/common-ui/resources/web/util/spin.min.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="common-ui/util/Glasspane" src="/pentaho/content/common-ui/resources/web/util/Glasspane.js"></script><style type="text/css"></style><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="home/FavoritesController" src="/pentaho/mantle/home/js/FavoritesController.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="home/favorites" src="/pentaho/mantle/home/js/favorites.js"></script></head>

<body data-spy="scroll" data-target=".sidebar">
<div class="container-fluid main-container">
  <div class="row-fluid">
    <div class="span3" id="buttonWrapper">
      <script type="text/x-handlebars-template">
        <div class="well sidebar">
          {{#if canReadContent}}
          <button class="btn btn-large btn-block" onclick="window.parent.mantle_setPerspective('browser.perspective')">
            {{i18n.browse}}
          </button>
          {{/if}}
          <!-- Only show create button if user is allowed -->

          {{#if canCreateContent}}
          <button id="btnCreateNew" class="btn btn-large btn-block popover-source" data-toggle="dropdown"
              data-toggle="popover" data-placement="right" data-html="true" data-id="my_hid" data-container="body" onclick="preCreatePopover();">
            {{i18n.create_new}}
          </button>
          {{/if}}

          {{#if hasDataAccess}}
          <button class="btn btn-large btn-block" onclick="window.parent.executeCommand('ManageDatasourcesCommand')">
            {{i18n.manage_datasources}}
          </button>
          {{/if}}

          <button class="btn btn-large btn-block" onclick="window.parent.executeCommand('OpenDocCommand')">
            {{i18n.documentation}}
          </button>
        </div>

        <div style="display:none" id="btnCreateNewContent"></div>
      </script>
    <div class="well sidebar">
          <button class="btn btn-large btn-block" onclick="window.parent.mantle_setPerspective('browser.perspective')">
            Browse Files
          </button>
          <!-- Only show create button if user is allowed -->

          <button id="btnCreateNew" class="btn btn-large btn-block popover-source" data-toggle="dropdown" data-placement="right" data-html="true" data-id="my_hid" data-container="body" onclick="preCreatePopover();" data-original-title="" title="">
            Create New
          </button>

          <button class="btn btn-large btn-block" onclick="window.parent.executeCommand('ManageDatasourcesCommand')">
            Manage Data Sources
          </button>

          <button class="btn btn-large btn-block" onclick="window.parent.executeCommand('OpenDocCommand')">
            Documentation
          </button>
        </div>

        <div style="display:none" id="btnCreateNewContent"><button id="createNewanalyzerButton" class="btn btn-large btn-block nobreak" onclick="Home.openFile('Analysis Report', 'Analysis Report', 'api/repos/xanalyzer/service/selectSchema');$('#btnCreateNew').popover('hide')">Analysis Report</button><button id="createNewinteractiveReportButton" class="btn btn-large btn-block nobreak" onclick="Home.openFile('Interactive Report', 'Interactive Report', 'api/repos/pentaho-interactive-reporting/prpti.new');$('#btnCreateNew').popover('hide')">Interactive Report</button><button id="createNewdashboardButton" class="btn btn-large btn-block nobreak" onclick="Home.openFile('Dashboard', 'Dashboard', 'api/repos/dashboards/editor');$('#btnCreateNew').popover('hide')">Dashboard</button><button id="createNewlaunch_new_cdeButton" class="btn btn-large btn-block nobreak" onclick="Home.openFile('CDE Dashboard', 'New CDE Dashboard', 'api/repos/wcdf/new');$('#btnCreateNew').popover('hide');">CDE Dashboard</button><button id="createNewdatasourceButton" class="btn btn-large btn-block nobreak" onclick="window.parent.pho.openDatasourceEditor(window.parent.datasourceEditorCallback)">Data Source</button></div></div>
    <div class="span9" style="overflow:auto">

      <div class="row-fluid">

        <!-- Pre-load  getting started over graphic for smooth inital transition for mouse over css -->
        <div class="preload-getting-started-over-icon" style="display:none"></div>
        
        <script type="text/x-handlebars-template">
          <div id="getting-started" class="well getting-started widget-panel">
            <h3>{{i18n.getting_started_heading}}</h3>
            
            <ul class="nav nav-tabs" id="tab-group">
                <li><a href="#tab1">{{i18n.getting_started_tab1}}</a></li>
                <li><a href="#tab2">{{i18n.getting_started_tab2}}</a></li>
                <li><a href="#tab3">{{i18n.getting_started_tab3}}</a></li>
            </ul>
 
            <div class="tab-content">
              <div class="tab-pane" id="tab1"></div>
              <div class="tab-pane" id="tab2"></div>
              <div class="tab-pane" id="tab3"></div>
            </div>
          </div>
        </script>        
      <div id="getting-started" class="well getting-started widget-panel">
            <h3>Getting Started</h3>
            
            <ul class="nav nav-tabs" id="tab-group">
                <li class="active"><a href="#tab1">Welcome</a></li>
                <li><a href="#tab2">Samples</a></li>
                <li><a href="#tab3">Tutorials</a></li>
            </ul>
 
            <div class="tab-content">
              <div class="tab-pane active" id="tab1"><div class="row-fluid">

  <div id="getting-started-message-content" class="left details-content">
    <div id="title"><p>Learn More About<br>Pentaho Business Analytics

      </p><p></p></div>
    <div id="message">
      <p>This video will provide you a high level overview of:</p>

      <div id="sub-messages">
        <p>- How Pentaho works</p>

        <p>- What it can do</p>

        <p>- How to get started</p>

        <p>- Where to go for help</p>
      </div>
    </div>
  </div>

  <div id="getting-started-media-content" class="launch-link right">
    <div class="alert alert-error no-internet-error" style="display: none;"></div>

    <div id="video-container">
      <div class="bg-img welcome-img"></div>
      <div id="welcome-video"></div>
    </div>
  </div>
</div></div>
              <div class="tab-pane" id="tab2"></div>
              <div class="tab-pane" id="tab3"></div>
            </div>
          </div></div>

      <div class="row-fluid">

        <div class="span6">
          <script id="recentsTemplate" type="text/x-handlebars-template" delaycompile="true">
            <div id="recents" class="well widget-panel">
              <h3>
                {{i18n.recents}}
              </h3>
              <div id="recentsSpinner"></div>
              {{#if isEmpty}}
              <div class="empty-panel content-panel">
                <div class="centered">
                  <div class="empty-message">{{i18n.empty_recents_panel_message}}</div>
                  <button class="pentaho-button" onclick="window.parent.mantle_setPerspective('browser.perspective');">{{i18n.browse}}</button>
                </div>
              </div>
              {{else}}
              <div id="recents-content-panel" class="content-panel">
                <ul class="nav nav-tabs nav-stacked">
                  {{#eachRecent recent}}
                  <li>
                    <a href="javascript:Home.openRepositoryFile('{{escapeQuotes fullPath}}', 'run')" title='{{title}}'>
                      <div class="row-fluid">
                        <div class="span10 ellipsis">
                          {{#if xanalyzer}}   <i class="pull-left content-icon file-xanalyzer"/>  {{/if}}
                          {{#if xdash}}       <i class="pull-left content-icon file-xdash"/>      {{/if}}
                          {{#if xcdf}}        <i class="pull-left content-icon file-xcdf"/>       {{/if}}
                          {{#if prpti}}       <i class="pull-left content-icon file-prpti"/>      {{/if}}
                          {{#if prpt}}        <i class="pull-left content-icon file-prpt"/>       {{/if}}
                          {{#if xaction}}     <i class="pull-left content-icon file-xaction"/>    {{/if}}
                          {{#if url}}         <i class="pull-left content-icon file-url"/>        {{/if}}
                          {{#if html}}        <i class="pull-left content-icon file-html"/>       {{/if}}
                          {{#if unknownType}} <i class="pull-left content-icon file-unknown"/>    {{/if}}
                          <span class="pad-left">{{title}}</span>
                        </div>
                        <div class="span2">
                          {{#unless isEmpty}}
                          {{#if isFavorite}}
                          <i title="{{../../../i18n.remove_favorite_tooltip}}" class="pull-right favorite-on" onclick="controller.unmarkRecentAsFavorite('{{escapeQuotes fullPath}}'); return false;"/>
                          {{else}}
                          <i title="{{../../../i18n.add_favorite_tooltip}}" class="pull-right favorite-off" onclick="controller.markRecentAsFavorite('{{escapeQuotes fullPath}}', '{{escapeQuotes title}}'); return false;" />
                          {{/if}}
                          {{/unless}}
                        </div>
                      </div>
                    </a>
                  </li>
                  {{/eachRecent}}
                </ul>
              </div>
              {{/if}}
            </div>
          </script>

          <div id="recentsContianer">
            <div id="recents" class="well widget-panel">
              <h3>
                Recents
              </h3>
              <div id="recentsSpinner"></div>
              <div id="recents-content-panel" class="content-panel">
                <ul class="nav nav-tabs nav-stacked">
                  <li>
                    <a href="javascript:Home.openRepositoryFile('/home/admin/analyzer_smoke_test_01786026.xanalyzer', 'run')" title="analyzer_smoke_test_01786026">
                      <div class="row-fluid">
                        <div class="span10 ellipsis">
                             <i class="pull-left content-icon file-xanalyzer"></i>  
                          
                          
                          
                          
                          
                          
                          
                          
                          <span class="pad-left">analyzer_smoke_test_01786026</span>
                        </div>
                        <div class="span2">
                          <i title="" class="pull-right favorite-off" onclick="controller.markRecentAsFavorite('/home/admin/analyzer_smoke_test_01786026.xanalyzer', 'analyzer_smoke_test_01786026'); return false;"></i>
                        </div>
                      </div>
                    </a>
                  </li>
                  <li>
                    <a href="javascript:Home.openRepositoryFile('/public/plugin-samples/cda/cda_test.xcdf', 'run')" title="cda_test">
                      <div class="row-fluid">
                        <div class="span10 ellipsis">
                          
                          
                                  <i class="pull-left content-icon file-xcdf"></i>       
                          
                          
                          
                          
                          
                          
                          <span class="pad-left">cda_test</span>
                        </div>
                        <div class="span2">
                          <i title="" class="pull-right favorite-off" onclick="controller.markRecentAsFavorite('/public/plugin-samples/cda/cda_test.xcdf', 'cda_test'); return false;"></i>
                        </div>
                      </div>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="span6">
          <script id="favoritesTemplate" type="text/x-handlebars-template" delaycompile="true">
            <div id="favorites" class="well widget-panel">
              <h3>
                {{i18n.favorites}}
              </h3>
              <div id="favoritesSpinner"></div>
              {{#if isEmpty}}
              <div class="empty-panel content-panel">
                <div class="centered">
                  <div class="empty-message">{{i18n.empty_favorites_panel_message}}</div>
                  <button class="pentaho-button" onclick="window.parent.mantle_setPerspective('browser.perspective')">{{i18n.browse}}</button>
                </div>
              </div>
              {{else}}
              <div id="favorites-content-panel" class="content-panel">
                <ul class="nav nav-tabs nav-stacked">
                  {{#eachFavorite favorites}}
                  <li>
                    <a href="javascript:Home.openRepositoryFile('{{escapeQuotes fullPath}}', 'run')" title='{{title}}'>
                      <div class="row-fluid">
                        <div class="span10 ellipsis">
                          {{#if xanalyzer}}   <i class="pull-left content-icon file-xanalyzer"/>  {{/if}}
                          {{#if xdash}}       <i class="pull-left content-icon file-xdash"/>      {{/if}}
                          {{#if xcdf}}        <i class="pull-left content-icon file-xcdf"/>       {{/if}}
                          {{#if prpti}}       <i class="pull-left content-icon file-prpti"/>      {{/if}}
                          {{#if prpt}}        <i class="pull-left content-icon file-prpt"/>       {{/if}}
                          {{#if xaction}}     <i class="pull-left content-icon file-xaction"/>    {{/if}}
                          {{#if url}}         <i class="pull-left content-icon file-url"/>        {{/if}}
                          {{#if html}}        <i class="pull-left content-icon file-html"/>       {{/if}}
                          {{#if unknownType}} <i class="pull-left content-icon file-unknown"/>    {{/if}}
                          <span class="pad-left">{{title}}</span>
                        </div>
                        <div class="span2">
                          {{#unless isEmpty}}
                          <i title="{{../../../i18n.remove_favorite_tooltip}}" class="pull-right favorite-on" onclick="controller.unmarkRecentAsFavorite('{{escapeQuotes fullPath}}'); return false;"/>
                          {{/unless}}
                        </div>
                      </div>
                    </a>
                  </li>
                  {{/eachFavorite}}
                </ul>
              </div>
              {{/if}}
            </div>
          </script>

          <div id="favoritesContianer">
            <div id="favorites" class="well widget-panel">
              <h3>
                Favorites
              </h3>
              <div id="favoritesSpinner"></div>
              <div class="empty-panel content-panel">
                <div class="centered">
                  <div class="empty-message">You haven't selected any favorites yet. Add some favorites.</div>
                  <button class="pentaho-button" onclick="window.parent.mantle_setPerspective('browser.perspective')">Browse Files</button>
                </div>
              </div>
            </div>
          </div>

        </div>

      </div>
    </div>
  </div>
</div>

<script type="text/javascript">

  var popup_init = false;

  function preCreatePopover(){
    if(!popup_init){
      var tmp = $.fn.popover.Constructor.prototype.show;
      $.fn.popover.Constructor.prototype.show = function () {
        tmp.call(this);
          //Keep the popover from running off the screen
          var offset = 5;
          var top = this.$element.offset().top;
          var height =  this.$element.outerHeight();
          var topOffset = top-offset;
          $('.popover').css('top', topOffset+"px");
          $('.arrow').css('top', offset + height / 2);
        if (!$('.popover-title').html())
        $('.popover-title').hide();
      };
      popup_init = true;
    }
  }

</script>



</body></html>